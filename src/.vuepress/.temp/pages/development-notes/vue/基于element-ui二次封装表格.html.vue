<template><div><h1 id="基于element-ui-二次封装-未完成" tabindex="-1"><a class="header-anchor" href="#基于element-ui-二次封装-未完成" aria-hidden="true">#</a> 基于element-ui 二次封装(<strong>未完成</strong>)</h1>
<p><strong>对于组件的封装先要了解以下属性</strong></p>
<h2 id="attrs-属性" tabindex="-1"><a class="header-anchor" href="#attrs-属性" aria-hidden="true">#</a> $attrs 属性</h2>
<blockquote>
<p>使用 <code v-pre>v-bind=&quot;$attrs&quot;</code> 可以将父组件的属性传递给子组件<br />
子组件使用 <code v-pre>$attrs</code> 来获取父组件传递给子组件的属性值<br />
子组件就可以通过 <code v-pre>$attrs</code> 来访问和使用父组件传递的属性值。<br />
子组件打印 <code v-pre>console.log(this.$attrs);</code> <br /></p>
</blockquote>
<h2 id="listeners-属性" tabindex="-1"><a class="header-anchor" href="#listeners-属性" aria-hidden="true">#</a> $listeners 属性</h2>
<blockquote>
<p>使用 <code v-pre>v-on=&quot;$listeners&quot;</code> 可以将父组件的事件监听器传递给子组件<br />
子组件可以通过访问 <code v-pre>$listeners</code> 来获取父组件传递给子组件事件监听器<br />
子组件就可以通过 <code v-pre>$listeners</code> 来访问和使用父组件传递的监听器。<br />
子组件打印 <code v-pre>console.log(this.$listeners);</code></p>
</blockquote>
<h2 id="eventname" tabindex="-1"><a class="header-anchor" href="#eventname" aria-hidden="true">#</a> @eventname</h2>
<blockquote>
<p>监听父组件传递过来的事件，并在相应的事件处理函数中处理这些事件<br /></p>
</blockquote>
<h2 id="scopedslots" tabindex="-1"><a class="header-anchor" href="#scopedslots" aria-hidden="true">#</a> $scopedSlots</h2>
<blockquote>
<p>用于访问父组件的具名插槽</p>
</blockquote>
<h2 id="includes" tabindex="-1"><a class="header-anchor" href="#includes" aria-hidden="true">#</a> includes()</h2>
<blockquote>
<p>在 js 中字符串 <strong>includes</strong> 方法，查找字符串，如果找到返回 <strong>true</strong></p>
</blockquote>
<div class="language-vue line-numbers-mode" data-ext="vue"><pre v-pre class="shiki one-dark-pro" style="background-color: #282c34" tabindex="0"><code><span class="line"><span style="color: #ABB2BF">&lt;</span><span style="color: #E06C75">template</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">el-table</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">ref</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;table&quot;</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">:data</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;tempData&quot;</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">:header-cell-style</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;headerCellStyle&quot;</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">:cell-style</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;cellStyle&quot;</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">v-bind</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;$attrs&quot;</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #D19A66">v-on</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;$listeners&quot;</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #7F848E; font-style: italic">&lt;!-- append 表格底部 --&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">      &lt;</span><span style="color: #E06C75">template</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">v-if</span><span style="color: #ABB2BF">=</span><span style="color: #ABB2BF">&quot;</span><span style="color: #E5C07B">$slots</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">append</span><span style="color: #ABB2BF">&quot;</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">slot</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;append&quot;</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">        &lt;</span><span style="color: #E06C75">slot</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">name</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;append&quot;</span><span style="color: #ABB2BF">&gt;&lt;/</span><span style="color: #E06C75">slot</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">      &lt;/</span><span style="color: #E06C75">template</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">      </span></span>
<span class="line"><span style="color: #ABB2BF">      &lt;</span><span style="color: #E06C75">template</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">v-for</span><span style="color: #ABB2BF">=</span><span style="color: #ABB2BF">&quot;</span><span style="color: #E06C75">item</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">in</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">columns</span><span style="color: #ABB2BF">&quot;</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #7F848E; font-style: italic">&lt;!-- 判断是否有&#39;selection&#39;, &#39;index&#39; 属性 父组件表头数据中加入type --&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">        &lt;</span><span style="color: #E06C75">el-table-column</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">v-if</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot; item.type &amp;&amp; [&#39;selection&#39;, &#39;index&#39;].includes(item.type)&quot;</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">:key</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;`${item.prop}-if`&quot;</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">v-bind</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;item&quot;</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">          &lt;</span><span style="color: #E06C75">template</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">v-slot</span><span style="color: #ABB2BF">:</span><span style="color: #D19A66">header</span><span style="color: #ABB2BF">=</span><span style="color: #ABB2BF">&quot;</span><span style="color: #E06C75">scope</span><span style="color: #ABB2BF">&quot;</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">            &lt;</span><span style="color: #E06C75">slot</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">:name</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;`header-${item.prop}`&quot;</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">v-bind</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;scope&quot;</span><span style="color: #ABB2BF">&gt;&lt;/</span><span style="color: #E06C75">slot</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">          &lt;/</span><span style="color: #E06C75">template</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">        &lt;/</span><span style="color: #E06C75">el-table-column</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">        &lt;</span><span style="color: #E06C75">el-table-column</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">v-else</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">:key</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;item.prop&quot;</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">v-bind</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;item&quot;</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #7F848E; font-style: italic">&lt;!-- v-if=&quot;$scopedSlots[`header-${item.prop}`] 判断名为 item.prop 的插槽是否存在</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">               自定义表头文字 父组件中 &lt;template #header-列的字段名&gt; 例如：&lt;template #header-name&gt;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">          --&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">          &lt;</span><span style="color: #E06C75">template</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">v-slot</span><span style="color: #ABB2BF">:</span><span style="color: #D19A66">header</span><span style="color: #ABB2BF">=</span><span style="color: #ABB2BF">&quot;</span><span style="color: #E06C75">scope</span><span style="color: #ABB2BF">&quot;</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">            &lt;</span><span style="color: #E06C75">span</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">v-if</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;$scopedSlots[`header-${item.prop}`]&quot;</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">              &lt;</span><span style="color: #E06C75">slot</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">:name</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;`header-${item.prop}`&quot;</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">v-bind</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;scope&quot;</span><span style="color: #ABB2BF">&gt;&lt;/</span><span style="color: #E06C75">slot</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">            &lt;/</span><span style="color: #E06C75">span</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">            &lt;</span><span style="color: #E06C75">span</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">v-else</span><span style="color: #ABB2BF">&gt;{{ scope.column.label }}&lt;/</span><span style="color: #E06C75">span</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">          &lt;/</span><span style="color: #E06C75">template</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">          &lt;</span><span style="color: #E06C75">template</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">slot-scope</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;scope&quot;</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">            &lt;</span><span style="color: #E06C75">span</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">v-if</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;$scopedSlots[item.prop]&quot;</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">              &lt;</span><span style="color: #E06C75">slot</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">:name</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;item.prop&quot;</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">:scope</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;scope&quot;</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">:item</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;item&quot;</span><span style="color: #ABB2BF">&gt;&lt;/</span><span style="color: #E06C75">slot</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">            &lt;/</span><span style="color: #E06C75">span</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">            &lt;</span><span style="color: #E06C75">span</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">v-else</span><span style="color: #ABB2BF">&gt;{{ scope.row[item.prop] }}&lt;/</span><span style="color: #E06C75">span</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">          &lt;/</span><span style="color: #E06C75">template</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">        &lt;/</span><span style="color: #E06C75">el-table-column</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">      &lt;/</span><span style="color: #E06C75">template</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;/</span><span style="color: #E06C75">el-table</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #7F848E; font-style: italic">&lt;!-- 前端根据数据列表分页 --&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #7F848E; font-style: italic">&lt;!-- &lt;el-pagination class=&quot;pagination&quot; v-bind=&quot;tempPagination&quot; :current-page=&quot;currentPage&quot; :page-size=&quot;pageSize&quot;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">      :total=&quot;total&quot; @size-change=&quot;handleSizeChange&quot; @current-change=&quot;handleCurrentChange&quot;&gt;&lt;/el-pagination&gt; --&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #7F848E; font-style: italic">&lt;!-- 后台分页 --&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #7F848E; font-style: italic">&lt;!-- &lt;el-pagination class=&quot;pagination&quot; v-bind=&quot;tempPagination&quot; :current-page=&quot;currentPage&quot; :page-size=&quot;pageSize&quot;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">      :total=&quot;total&quot; @size-change=&quot;handleSizeChange&quot; @current-change=&quot;handleCurrentChange&quot;&gt;&lt;/el-pagination&gt; --&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;/</span><span style="color: #E06C75">template</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;</span><span style="color: #E06C75">script</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">defaultPagination</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">background</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">layout</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">&#39;total, sizes, prev, pager, next, jumper&#39;</span><span style="color: #ABB2BF"> }</span></span>
<span class="line"><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">default</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">name</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">&#39;newTable&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">props</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #7F848E; font-style: italic">/** 表头数据 */</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">columns</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">type</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">Array</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #61AFEF">default</span><span style="color: #ABB2BF">: () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> []</span></span>
<span class="line"><span style="color: #ABB2BF">    },</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #7F848E; font-style: italic">/** </span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">     * 分页数据对象 例如：</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">     * {</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">     *  currentPage: 1, 当前页</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">     *  pageSize: 10, 每页数据</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">     * } </span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">     **/</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">pagination</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">type</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">Object</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #61AFEF">default</span><span style="color: #ABB2BF">: () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> ({})</span></span>
<span class="line"><span style="color: #ABB2BF">    },</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">data</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">type</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">Array</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #61AFEF">default</span><span style="color: #ABB2BF">: () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> []</span></span>
<span class="line"><span style="color: #ABB2BF">    },</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #7F848E; font-style: italic">/** 表头单元格样式配置 */</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">headerCellStyle</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E06C75">type</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">Function</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">||</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">Object</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #61AFEF">default</span><span style="color: #ABB2BF">: () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #98C379">&#39;background-color&#39;</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">&#39;#f5f6f7&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #98C379">&#39;font-size&#39;</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">&#39;12px&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #98C379">&#39;padding&#39;</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">&#39;10px&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">        }</span></span>
<span class="line"><span style="color: #ABB2BF">      }</span></span>
<span class="line"><span style="color: #ABB2BF">    },</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #7F848E; font-style: italic">/** 表格单元格的样式配置 */</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">cellStyle</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">type</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">Function</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">||</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">Object</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #61AFEF">default</span><span style="color: #ABB2BF">: () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #98C379">&#39;font-size&#39;</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">&#39;12px&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #98C379">&#39;padding&#39;</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">&#39;10px&#39;</span></span>
<span class="line"><span style="color: #ABB2BF">        }</span></span>
<span class="line"><span style="color: #ABB2BF">      }</span></span>
<span class="line"><span style="color: #ABB2BF">    },</span></span>
<span class="line"><span style="color: #ABB2BF">  },</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #61AFEF">data</span><span style="color: #ABB2BF">() {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">currentPage</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">pageSize</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">10</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">tempData</span><span style="color: #ABB2BF">: [],</span></span>
<span class="line"><span style="color: #ABB2BF">    }</span></span>
<span class="line"><span style="color: #ABB2BF">  },</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">computed</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #61AFEF">paging</span><span style="color: #ABB2BF">() {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">offset</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> (</span><span style="color: #E5C07B">this</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">currentPage</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">-</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">) </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">this</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">pageSize</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">offset</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">limit</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">this</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">pageSize</span><span style="color: #ABB2BF"> }</span></span>
<span class="line"><span style="color: #ABB2BF">    },</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #61AFEF">total</span><span style="color: #ABB2BF">() {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #7F848E; font-style: italic">// return this.data?.length || 0</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">this</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">data</span><span style="color: #ABB2BF">?.</span><span style="color: #E06C75">length</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">||</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0</span></span>
<span class="line"><span style="color: #ABB2BF">    },</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #61AFEF">tempPagination</span><span style="color: #ABB2BF">() {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> { ...</span><span style="color: #E06C75">defaultPagination</span><span style="color: #ABB2BF">, ...</span><span style="color: #E5C07B">this</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">pagination</span><span style="color: #ABB2BF"> }</span></span>
<span class="line"><span style="color: #ABB2BF">    }</span></span>
<span class="line"><span style="color: #ABB2BF">  },</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">watch</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">pagination</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #61AFEF">handler</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75; font-style: italic">nVal</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E5C07B">this</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">currentPage</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">nVal</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">currentPage</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">||</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">1</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E5C07B">this</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">pageSize</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">nVal</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">pageSize</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">||</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">nVal</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">pageSizes</span><span style="color: #ABB2BF">?.[</span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">] </span><span style="color: #56B6C2">||</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">10</span></span>
<span class="line"><span style="color: #ABB2BF">      },</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">immediate</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">deep</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">    },</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">paging</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #61AFEF">handler</span><span style="color: #ABB2BF">() {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E5C07B">this</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">getTableData</span><span style="color: #ABB2BF">()</span></span>
<span class="line"><span style="color: #ABB2BF">      },</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">immediate</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">deep</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">    }</span></span>
<span class="line"><span style="color: #ABB2BF">  },</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #61AFEF">mounted</span><span style="color: #ABB2BF">() {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">tempStore</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">this</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">$refs</span><span style="color: #ABB2BF">?.</span><span style="color: #E06C75">table</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">||</span><span style="color: #ABB2BF"> {}</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">for</span><span style="color: #ABB2BF"> (</span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">key</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">in</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">tempStore</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #C678DD">typeof</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">tempStore</span><span style="color: #ABB2BF">[</span><span style="color: #E06C75">key</span><span style="color: #ABB2BF">] </span><span style="color: #56B6C2">===</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;function&#39;</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E5C07B">this</span><span style="color: #ABB2BF">[</span><span style="color: #E06C75">key</span><span style="color: #ABB2BF">] </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">tempStore</span><span style="color: #ABB2BF">[</span><span style="color: #E06C75">key</span><span style="color: #ABB2BF">]</span></span>
<span class="line"><span style="color: #ABB2BF">      }</span></span>
<span class="line"><span style="color: #ABB2BF">    }</span></span>
<span class="line"><span style="color: #ABB2BF">  },</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">methods</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #61AFEF">handleSizeChange</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75; font-style: italic">val</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E5C07B">this</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">pageSize</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">val</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E5C07B">this</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">getTableData</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">    },</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #61AFEF">handleCurrentChange</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75; font-style: italic">val</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E5C07B">this</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">currentPage</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">val</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E5C07B">this</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">getTableData</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">    },</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #61AFEF">getTableData</span><span style="color: #ABB2BF">() {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> { </span><span style="color: #E5C07B">offset</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">limit</span><span style="color: #ABB2BF"> } </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">this</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">paging</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">||</span><span style="color: #ABB2BF"> {};</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E5C07B">this</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">tempData</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">this</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">data</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">filter</span><span style="color: #ABB2BF">((</span><span style="color: #E06C75; font-style: italic">v</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75; font-style: italic">i</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">i</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">&gt;=</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">offset</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">&amp;&amp;</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">i</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">&lt;</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75">offset</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">+</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">limit</span><span style="color: #ABB2BF">))</span></span>
<span class="line"><span style="color: #ABB2BF">    },</span></span>
<span class="line"><span style="color: #ABB2BF">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;/</span><span style="color: #E06C75">script</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></template>


