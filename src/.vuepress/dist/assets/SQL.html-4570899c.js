import{_ as s,X as n,Y as a,$ as l}from"./framework-2185e866.js";const e="/spoony-z/assets/2-6d79623c.png",p="/spoony-z/assets/3-06b377ed.png",o="/spoony-z/assets/4-5c7bef14.png",c="/spoony-z/assets/5-5b11dd00.png",t={},r=l('<h1 id="sql" tabindex="-1"><a class="header-anchor" href="#sql" aria-hidden="true">#</a> SQL</h1><h2 id="sql-通用语法" tabindex="-1"><a class="header-anchor" href="#sql-通用语法" aria-hidden="true">#</a> SQL 通用语法</h2><ol><li><strong>SQL</strong> 语句可以单行或多行书写，以分号结尾。</li><li><strong>SQL</strong> 语句可以使用空格/缩进来增强语句的可读性。</li><li><strong>MySQL</strong> 数据库的 <strong>SQL</strong> 语句不区分大小写，关键字建议使用大写</li><li>注释 <ul><li>单行注释：<strong>--</strong> 注释内容或 <strong>#</strong> 注释内容（<strong>MySQL</strong> 特有）</li><li>多行注释： /<em>注释内容</em>/</li></ul></li></ol><h2 id="sql-分类" tabindex="-1"><a class="header-anchor" href="#sql-分类" aria-hidden="true">#</a> SQL 分类</h2><figure><img src="'+e+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="ddl" tabindex="-1"><a class="header-anchor" href="#ddl" aria-hidden="true">#</a> DDL</h3><blockquote><p><strong>数据定义语言，用来定义数据库对象(数据库，表，字段)</strong></p></blockquote><h4 id="ddl-库操作" tabindex="-1"><a class="header-anchor" href="#ddl-库操作" aria-hidden="true">#</a> DDL 库操作</h4><ul><li>查询</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># 查询所有数据库</span></span>
<span class="line"><span style="color:#ABB2BF;">SHOW </span><span style="color:#98C379;">DATABASES</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 查询当前数据库</span></span>
<span class="line"><span style="color:#ABB2BF;">SELECT </span><span style="color:#98C379;">DATABASE</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>创建</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">CREATED </span><span style="color:#98C379;">DATABASE</span><span style="color:#ABB2BF;"> [IF NOT EXISTS] </span><span style="color:#98C379;">数据库名</span><span style="color:#ABB2BF;"> [DEFAULT CHARSET 字符集] [COLLATE 排序规则];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 例：创建 myfristsql 数据库</span></span>
<span class="line"><span style="color:#ABB2BF;">create </span><span style="color:#98C379;">database</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">myfristsql</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 若存在 则不创建 不存在则创建</span></span>
<span class="line"><span style="color:#ABB2BF;">create </span><span style="color:#98C379;">database</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">if</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">not</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">exists</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">myfristsql</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 创建字符集为 utf8mb4</span></span>
<span class="line"><span style="color:#ABB2BF;">create </span><span style="color:#98C379;">database</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">if</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">not</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">exists</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">myfristsql</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">default</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">charset</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">utf8mb4</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>删除</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">DROP </span><span style="color:#98C379;">DATABASE[IF</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">EXISTS]</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">数据库名</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 例：删除 myfristsql 数据库</span></span>
<span class="line"><span style="color:#ABB2BF;">drop </span><span style="color:#98C379;">database</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">myfristsql</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 若存在 则删除 不存在则不删除</span></span>
<span class="line"><span style="color:#ABB2BF;">drop </span><span style="color:#98C379;">database</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">if</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">exists</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">myfristsql</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>使用</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">USE </span><span style="color:#98C379;">数据库名</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="ddl-表操作" tabindex="-1"><a class="header-anchor" href="#ddl-表操作" aria-hidden="true">#</a> DDL 表操作</h4><ul><li>查询（通过 USE 数据库名 使用之后查询）</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># 查询当前数据库所有表</span></span>
<span class="line"><span style="color:#ABB2BF;">SHOW </span><span style="color:#98C379;">TABLES</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 查询表结构</span></span>
<span class="line"><span style="color:#ABB2BF;">DESC </span><span style="color:#98C379;">表名</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 查询指定表的建表语句</span></span>
<span class="line"><span style="color:#ABB2BF;">SHOW </span><span style="color:#98C379;">CREATE</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">TABLE</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">表明</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>创建（通过 USE 数据库名 使用之后查询）</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">CREATE </span><span style="color:#98C379;">TABLE</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">表名</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#ABB2BF;">    字段1 </span><span style="color:#98C379;">字段1类型</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">COMMENT</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">字段1注释,</span></span>
<span class="line"><span style="color:#ABB2BF;">    字段2 </span><span style="color:#98C379;">字段2类型</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">COMMENT</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">字段2注释,</span></span>
<span class="line"><span style="color:#ABB2BF;">    字段3 </span><span style="color:#98C379;">字段3类型</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">COMMENT</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">字段3注释,</span></span>
<span class="line"><span style="color:#ABB2BF;">    ······</span></span>
<span class="line"><span style="color:#ABB2BF;">)</span><span style="color:#98C379;">[COMMENT</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">表注释]</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>修改</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">ALTER </span><span style="color:#98C379;">TABLE</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">表名</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">RENAME</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">TO</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">新表名</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>删除</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># 直接删除</span></span>
<span class="line"><span style="color:#ABB2BF;">DROP </span><span style="color:#98C379;">TABLE</span><span style="color:#ABB2BF;"> [if EXISTS] </span><span style="color:#98C379;">表明</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 删除并重新创建</span></span>
<span class="line"><span style="color:#ABB2BF;">TRUNCATE </span><span style="color:#98C379;">TABLE</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">表明</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>数据类型</p><blockquote><p>MySQL中的数据类型有很多，主要分为三类:数值类型、字符串类型、日期时间类型</p></blockquote><ol><li>数值类型 <img src="`+p+'" alt="" loading="lazy"></li><li>字符串类型 <img src="'+o+'" alt="" loading="lazy"></li><li>日期时间类型 <img src="'+c+`" alt="" loading="lazy"></li></ol></li><li><p>添加字段 &amp; 修改字段 &amp; 删除字段</p></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># 添加字段</span></span>
<span class="line"><span style="color:#ABB2BF;">ALTER </span><span style="color:#98C379;">TABLE</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">表名</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">ADD</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">字段名</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">类型</span><span style="color:#ABB2BF;">(长度) </span><span style="color:#98C379;">COMMENT</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">注释</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">约束</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 例：为 emp 表增加一个新的字段“昵称”为 nickname，类型为varchar(20)</span></span>
<span class="line"><span style="color:#ABB2BF;">alter </span><span style="color:#98C379;">table</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">emp</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">add</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">nickname</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">varchar</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">20</span><span style="color:#ABB2BF;">) </span><span style="color:#98C379;">comment</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;昵称&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 添加完成之后查看</span></span>
<span class="line"><span style="color:#ABB2BF;">desc </span><span style="color:#98C379;">emp</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 修改数据类型</span></span>
<span class="line"><span style="color:#ABB2BF;">ALTER </span><span style="color:#98C379;">TABLE</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">表名</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">MODIFY</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">字段名</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">新数据类型</span><span style="color:#ABB2BF;">(长度);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 修改字段名和字段类型</span></span>
<span class="line"><span style="color:#ABB2BF;">ALTER </span><span style="color:#98C379;">TABLE</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">表名</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">CHANGE</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">旧字段名</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">新字段名</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">类型</span><span style="color:#ABB2BF;">(长度) </span><span style="color:#98C379;">COMMENT</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">注释</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 删除字段</span></span>
<span class="line"><span style="color:#ABB2BF;">ALTER </span><span style="color:#98C379;">TABLE</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">表名</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">DROP</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">字段名</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="dml" tabindex="-1"><a class="header-anchor" href="#dml" aria-hidden="true">#</a> DML</h3><blockquote><p>描述：数据操作语言，用来对数据库表中的数据进行增删改</p></blockquote><ul><li>添加数据</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># 给指定字段添加数据</span></span>
<span class="line"><span style="color:#ABB2BF;">INSERT </span><span style="color:#98C379;">INTO</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">表名</span><span style="color:#ABB2BF;"> (字段名1, </span><span style="color:#98C379;">字段名2,</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">···</span><span style="color:#ABB2BF;">) </span><span style="color:#98C379;">VALUES</span><span style="color:#ABB2BF;"> (值1, </span><span style="color:#98C379;">值2,</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">···</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 给全部指定字段添加数据</span></span>
<span class="line"><span style="color:#ABB2BF;">INSERT </span><span style="color:#98C379;">INTO</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">表名</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">VALUES</span><span style="color:#ABB2BF;">(值1, </span><span style="color:#98C379;">值2,</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">···</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 批量指定字段添加数据</span></span>
<span class="line"><span style="color:#ABB2BF;">INSERT </span><span style="color:#98C379;">INTO</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">表名</span><span style="color:#ABB2BF;"> (字段名1, </span><span style="color:#98C379;">字段名2,</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">···</span><span style="color:#ABB2BF;">) </span><span style="color:#98C379;">VALUES</span><span style="color:#ABB2BF;"> (值1, </span><span style="color:#98C379;">值2,</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">···</span><span style="color:#ABB2BF;">), (值1, </span><span style="color:#98C379;">值2,</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">···</span><span style="color:#ABB2BF;">), (值1, </span><span style="color:#98C379;">值2,</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">···</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 批量给全部字段添加数据</span></span>
<span class="line"><span style="color:#ABB2BF;">INSERT </span><span style="color:#98C379;">INTO</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">表名</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">VALUES</span><span style="color:#ABB2BF;"> (值1, </span><span style="color:#98C379;">值2,</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">···</span><span style="color:#ABB2BF;">), (值1, </span><span style="color:#98C379;">值2,</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">···</span><span style="color:#ABB2BF;">), (值1, </span><span style="color:#98C379;">值2,</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">···</span><span style="color:#ABB2BF;">),;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><ul><li>插入数据时，指定的字段顺序需要与值的顺序是一一对应的.</li><li>字符串和日期型数据应该包含在引号中</li><li>插入的数据大小，应该在字段的规定范围内。</li></ul></div><ul><li>修改数据</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">UPDATE </span><span style="color:#98C379;">表名</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">SET</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">字段名1</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">值1,</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">字段名2</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">值2,</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">···[WHERE</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">条件]</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 例</span></span>
<span class="line"><span style="color:#ABB2BF;">update </span><span style="color:#98C379;">employee</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">set</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">name</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;修改后的值&#39;</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">where</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">id</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p>修改语句的条件可以有，也可以没有，如果没有条件，则会修改整张表的所有数据.</p></div><ul><li>删除数据</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">DELETE </span><span style="color:#98C379;">FROM</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">表名</span><span style="color:#ABB2BF;"> [WHERE 条件];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 例</span></span>
<span class="line"><span style="color:#ABB2BF;">delete </span><span style="color:#98C379;">from</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">employee</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">where</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">id</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 删除表所有数据</span></span>
<span class="line"><span style="color:#ABB2BF;">delete </span><span style="color:#98C379;">from</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">employee</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="dql" tabindex="-1"><a class="header-anchor" href="#dql" aria-hidden="true">#</a> DQL</h3><blockquote><p>描述：数据查询语言，用来查询数据库中表的记录<br> 关键字：<strong>SELECT</strong></p></blockquote><ul><li>基本查询</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># 查询多个字段</span></span>
<span class="line"><span style="color:#ABB2BF;">SELECT </span><span style="color:#98C379;">字段1,</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">字段2,</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">字段3,···</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">FROM</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">表名</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 查询返回所有字段(尽量不要用 * 效率低)</span></span>
<span class="line"><span style="color:#ABB2BF;">SELECT </span><span style="color:#E5C07B;">*</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">FROM</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">表名</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 设置别名（其中 AS 可以省略）</span></span>
<span class="line"><span style="color:#ABB2BF;">SELECT </span><span style="color:#98C379;">字段1</span><span style="color:#ABB2BF;"> [AS 别名1], </span><span style="color:#98C379;">字段2</span><span style="color:#ABB2BF;"> [AS 别名2] </span><span style="color:#98C379;">···</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">FROM</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">表名</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 去除重复记录</span></span>
<span class="line"><span style="color:#ABB2BF;">SELECT </span><span style="color:#98C379;">DISTINCT</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">字段列表</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">FROM</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">表名</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>条件查询(WHERE)</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># 语句</span></span>
<span class="line"><span style="color:#ABB2BF;">SELECT </span><span style="color:#98C379;">字段列表</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">FROM</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">表名</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">WHERE</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">条件列表</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 示例：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 在 advert 表中查询年龄为 18 的人</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">*</span><span style="color:#ABB2BF;"> from advert where age = </span><span style="color:#D19A66;">18</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 在 advert 表中查询年龄大于 18 的人</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">*</span><span style="color:#ABB2BF;"> from advert where age &gt; </span><span style="color:#D19A66;">18</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 在 advert 表中查询年龄大于等于 18 的人</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">*</span><span style="color:#ABB2BF;"> from advert where age &gt;= </span><span style="color:#D19A66;">18</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 在 advert 表中查询年龄为 null 的人</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">*</span><span style="color:#ABB2BF;"> from advert where age is null;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 在 advert 表中查询年龄为 18 到 40 的人</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">*</span><span style="color:#ABB2BF;"> from advert where age &gt;= </span><span style="color:#D19A66;">18</span><span style="color:#ABB2BF;"> &amp;&amp; age &lt;</span><span style="color:#98C379;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">40</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">*</span><span style="color:#ABB2BF;"> from advert where age &gt;= </span><span style="color:#D19A66;">18</span><span style="color:#ABB2BF;"> and age &lt;= </span><span style="color:#D19A66;">40</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">*</span><span style="color:#ABB2BF;"> from advert where age &gt;= </span><span style="color:#D19A66;">18</span><span style="color:#ABB2BF;"> between </span><span style="color:#D19A66;">15</span><span style="color:#ABB2BF;"> and </span><span style="color:#D19A66;">40</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;"># 注意：between 后面是最小值 and 后面是最大值</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 查询性别为 女 且年龄 小于 25岁的员工信息</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">*</span><span style="color:#ABB2BF;"> from advert where gender = </span><span style="color:#98C379;">&#39;女&#39;</span><span style="color:#ABB2BF;"> and age &gt; </span><span style="color:#D19A66;">25</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 查询年龄 等于 18 或 20 或 40 的员工信息</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">*</span><span style="color:#ABB2BF;"> from advert where age = </span><span style="color:#D19A66;">18</span><span style="color:#ABB2BF;"> or age = </span><span style="color:#D19A66;">20</span><span style="color:#ABB2BF;"> or age = </span><span style="color:#D19A66;">40</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">*</span><span style="color:#ABB2BF;"> from advert where age in(</span><span style="color:#D19A66;">18</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">20</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">40</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 查询姓名为2个字的员工信息</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">*</span><span style="color:#ABB2BF;"> from advert where name like </span><span style="color:#98C379;">&#39;__&#39;</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;"># 2个下划线，一个下划线表示一个占位符（显示原因实际为两个下划线）</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 查询姓名为3个字的员工信息</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">*</span><span style="color:#ABB2BF;"> from advert where name like </span><span style="color:#98C379;">&#39;___&#39;</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;"># 3个下划线</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 查询身份证号最后一位是 X 的员工信息</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">*</span><span style="color:#ABB2BF;"> from advert where idcard like </span><span style="color:#98C379;">&#39;%X&#39;</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;"># % 匹配任意字符，但保证最后一位是 X</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">*</span><span style="color:#ABB2BF;"> from advert where idcard like </span><span style="color:#98C379;">&#39;_________________X&#39;</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;"># 身份证是18为 所以要17个下划线 最后一位是 X</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>条件列表</p><table><thead><tr><th>比较运算符</th><th>比较运算符功能</th></tr></thead><tbody><tr><td>&gt;</td><td>大于</td></tr><tr><td>&gt;=</td><td>大于等于</td></tr><tr><td>&lt;</td><td>小于</td></tr><tr><td>&lt;=</td><td>小于等于</td></tr><tr><td>=</td><td>等于</td></tr><tr><td>&lt;&gt; 或 !=</td><td>不等于</td></tr><tr><td>BETWEEN...AND...</td><td>在某个范围之内（含最小、最大值）</td></tr><tr><td>IN(...)</td><td>在 in 之后的列表中的值，多选一</td></tr><tr><td>LIKE 占位符</td><td>模糊匹配（ _ 匹配单个字，%匹配任意个字符）</td></tr><tr><td>IS NULL</td><td>是 null</td></tr></tbody></table><table><thead><tr><th>逻辑运算符</th><th>逻辑运算符功能</th></tr></thead><tbody><tr><td>AND 或 &amp;&amp;</td><td>并且（多个条件同时成立）</td></tr><tr><td>OR 或 ||</td><td>或者（多个条件任意一个成立）</td></tr><tr><td>NOT 或 !</td><td>非， 不是</td></tr></tbody></table><ul><li>聚合函数(count、max、min、avg、sum)</li></ul><hr><blockquote><p>描述：将一列数据作为一个整体，进行纵向计算。</p></blockquote><p>常见的聚合函数（针对于表中的某一列）</p><table><thead><tr><th>函数</th><th>功能</th></tr></thead><tbody><tr><td>count</td><td>统计数量</td></tr><tr><td>max</td><td>最大值</td></tr><tr><td>min</td><td>最小值</td></tr><tr><td>avg</td><td>平均值</td></tr><tr><td>sum</td><td>求和</td></tr></tbody></table><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># 统计该表中的员工数量</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">count(*)</span><span style="color:#ABB2BF;"> advert;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 统计该表中的员工平均年龄 </span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">avg(age)</span><span style="color:#ABB2BF;"> advert;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 统计该表中的员工最大年龄 </span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">max(age)</span><span style="color:#ABB2BF;"> advert;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 统计该表中的员工平均年龄 </span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">min(age)</span><span style="color:#ABB2BF;"> advert;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 统计西安地区员工的年龄之和</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">sum(age)</span><span style="color:#ABB2BF;"> from advert where workaddress = </span><span style="color:#98C379;">&#39;西安</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><ol><li>null 值不参与所有聚合函数运算。</li><li>执行顺序: where &gt; 聚合函数 &gt; having</li><li>分组之后，查询的字段一般为聚合函数和分组字段，查询其他字段无任何意义。</li></ol></div><ul><li>分组查询 (GROUP BY)</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># 语句</span></span>
<span class="line"><span style="color:#ABB2BF;">SELECT </span><span style="color:#98C379;">字段列表</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">FROM</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">表名[WHERE</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">条件]</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">GROUP</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">BY</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">分组字段名[HAVING</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">分组后过滤条件]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 示例</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">## 根据性别分组统计 男性员工 和 女性员工 的数量</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">gender,</span><span style="color:#ABB2BF;"> count(*) from advert group by gender</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">## 根据性别分组 ，统计 男性员工 和 女性员工 的 平均年龄</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">gender,</span><span style="color:#ABB2BF;"> avg(age) from advert group by gender</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">## 查询年龄 小于45 的员工 ，并根据 工作地址 分组 ， 获取 员工数量 大于等于 3 的工作地址</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">workaddress,</span><span style="color:#ABB2BF;"> count(*) address_count from advert where age &lt; </span><span style="color:#D19A66;">45</span><span style="color:#ABB2BF;"> group by workaddress having address_count &gt;= </span><span style="color:#D19A66;">3</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><ul><li>where与having区别</li></ul><hr><p><strong>执行时机不同:</strong> where是分组之前进行过滤，不满足where条件，不参与分组；而having是分组之后对结果进行过滤.</p><p><strong>判断条件不同:</strong> where不能对聚合函数进行判断，而having可以。</p></blockquote><ul><li>排序查询 (ORDER BY)</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># 语句</span></span>
<span class="line"><span style="color:#ABB2BF;">SELECT </span><span style="color:#98C379;">字段列表</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">FROM</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">表名</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">ORDER</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">BY</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">字段1</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">排序方式1字段2</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">排序方式2</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 示例</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">## 根据牛龄对公司的员工进行升序排序</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">*</span><span style="color:#ABB2BF;"> from advert order by age asc</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>排序方式</p><blockquote><ul><li>ASC：升序(默认值)</li><li>DESC：降序</li></ul></blockquote><div class="hint-container warning"><p class="hint-container-title">注意</p><p>如果是多字段排序，当第一个字段值相同时，才会根据第二个字段进行排序</p></div><ul><li>分页查询 (LIMIT)</li></ul><h3 id="dcl" tabindex="-1"><a class="header-anchor" href="#dcl" aria-hidden="true">#</a> DCL</h3><p><strong>数据控制语言，用来创建数据库用户、控制数据库的访问权限</strong></p>`,64),i=[r];function B(d,y){return n(),a("div",null,i)}const A=s(t,[["render",B],["__file","SQL.html.vue"]]);export{A as default};
